{% extends 'base.jinja2' %}

{% set fields = {
    'user': progress.user,
    'conversation': progress.conversation,
    'voter_level': progress.voter_level,
    'max_voter_level': progress.max_voter_level,
    'is_owner': progress.is_owner,
    'is_focused': progress.is_focused,
    'is_favorite': progress.is_favorite,
    'n_votes': progress.n_votes,
    'n_comments': progress.n_approved_comments,
    'n_rejected_comments': progress.n_rejected_comments,
    'votes_ratio': progress.votes_ratio,
    'n_endorsements': progress.n_endorsements,
    'n_given_opinion_bridge_powers': progress.n_given_opinion_bridge_powers,
    'n_given_minority_activist_powers': progress.n_given_minority_activist_powers,
    'score': progress.score,
    'position': progress.n_higher_scores + 1,
    'total_users': progress.n_conversation_scores,
    'to_next': progress.voter_level.achieve_next_level_msg(progress),
    'n_trophies': progress.n_trophies,
} %}
{% set conversation_fields = {
    'conversation_level': conversation_progress.conversation_level,
    'max_conversation_level': conversation_progress.max_conversation_level,
    'n_votes': conversation_progress.n_votes,
    'n_comments': conversation_progress.n_approved_comments,
    'n_rejected_comments': conversation_progress.n_rejected_comments,
    'n_favorites': conversation_progress.n_favorites,
    'n_tags': conversation_progress.n_tags,
    'n_clusters': conversation_progress.n_clusters,
    'n_stereotypes': conversation_progress.n_stereotypes,
    'n_endorsements': conversation_progress.n_endorsements,
    'score': conversation_progress.score,
    'n_participants': conversation_progress.n_participants,
    'to_next': conversation_progress.conversation_level.achieve_next_level_msg(conversation_progress),
} %}



{% block content %}
    <h1 class="h2 text-accent center">{{ _('Your achievements') }}</h1>
    {{ html_map(fields, class_='description') }}
    <h1 class="h2 text-accent center">{{ _('Conversation activity') }}</h1>
    {{ html_map(conversation_fields, class_='description') }}

{% endblock %}


